<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aplikasi Perpustakaan - Daftar Transaksi</title>
  <style>
    *{box-sizing:border-box}
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#f5f7fb;color:#1f2937}
    header{background:#0f172a;color:#fff;padding:14px 18px;position:sticky;top:0;z-index:10}
    .header-wrap{max-width:1100px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:14px}
    .brand{display:flex;align-items:center;gap:10px;min-width:220px}
    .brand img{width:44px;height:44px;border-radius:10px;object-fit:cover;background:#fff}
    .brand h1{margin:0;font-size:18px;color:#93c5fd;line-height:1.1}
    .brand small{opacity:.9}
    nav ul{list-style:none;padding:0;margin:0;display:flex;flex-wrap:wrap;gap:10px;justify-content:flex-end}
    nav a{display:inline-block;padding:10px 12px;border-radius:10px;text-decoration:none;color:#fff;border:1px solid rgba(255,255,255,.18)}
    nav a:hover, nav a.active{background:rgba(147,197,253,.18);border-color:rgba(147,197,253,.45)}
    main{max-width:1100px;margin:18px auto;padding:0 18px 26px}
    .card{background:#fff;border-radius:14px;padding:16px;margin-bottom:16px;box-shadow:0 6px 18px rgba(15,23,42,.08)}
    .table-wrap{overflow-x:auto}
    table{width:100%;border-collapse:collapse;min-width:520px}
    th,td{padding:10px 12px;border-bottom:1px solid #e2e8f0;text-align:left}
    th{background:#eff6ff}
    .link{color:#2563eb;font-weight:900;text-decoration:none}
    .link:hover{text-decoration:underline}
    footer{background:#0f172a;color:#fff;padding:14px 18px;margin-top:24px}
    .footer-wrap{max-width:1100px;margin:0 auto;opacity:.9}
    @media (max-width:820px){
      .header-wrap{flex-direction:column;align-items:stretch}
      .brand{justify-content:center}
      nav ul{justify-content:center}
    }
  </style>
</head>
<body>
  <header>
    <div class="header-wrap">
      <div class="brand">
        <img alt="Logo Aplikasi"
          src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Crect rx='12' width='64' height='64' fill='%232563eb'/%3E%3Cpath d='M18 18h18a6 6 0 0 1 6 6v22H24a6 6 0 0 0-6 6V18z' fill='white' opacity='.95'/%3E%3Cpath d='M24 18h22v28H24a6 6 0 0 0-6 6V24a6 6 0 0 1 6-6z' fill='white' opacity='.85'/%3E%3C/svg%3E">
        <div>
          <h1>Aplikasi Perpustakaan</h1>
          <small>Daftar Transaksi</small>
        </div>
      </div>
      <nav>
        <ul>
          <li><a href="index.html">Beranda</a></li>
          <li><a class="active" href="transaksi.html">Transaksi</a></li>
          <li><a href="profil.html">Profil</a></li>
          <li><a href="login.html">Login</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <section class="card">
      <h2>Daftar Transaksi</h2>
      <p>Kolom: <b>Nama Transaksi - Jumlah - Kategori</b></p>

      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>Nama Transaksi</th>
              <th>Jumlah</th>
              <th>Kategori</th>
            </tr>
          </thead>
          <tbody id="tbodyTransaksi"></tbody>
        </table>
      </div>

      <div style="margin-top:12px;">
        <a class="link" href="transaksi.html">← Kembali ke Transaksi</a>
      </div>
    </section>
  </main>

  <footer>
    <div class="footer-wrap">© 2026 - Aplikasi Perpustakaan | NIM: 251011700010</div>
  </footer>

  <script>
    const KEY = "transactions_perpustakaan";
    function escapeHtml(str){
      return String(str)
        .replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")
        .replaceAll('"',"&quot;").replaceAll("'","&#039;");
    }
    function getList(){
      const raw = localStorage.getItem(KEY);
      return raw ? JSON.parse(raw) : [];
    }
    function render(){
      const tbody = document.getElementById("tbodyTransaksi");
      const list = getList();
      tbody.innerHTML = "";

      if(list.length === 0){
        tbody.innerHTML = "<tr><td colspan='3'>Belum ada transaksi.</td></tr>";
        return;
      }

      for(const item of list){
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${escapeHtml(item.nama)}</td>
          <td>${item.jumlah}</td>
          <td>${escapeHtml(item.kategori)}</td>
        `;
        tbody.appendChild(tr);
      }
    }
    document.addEventListener("DOMContentLoaded", render);
  </script>
</body>
</html>
